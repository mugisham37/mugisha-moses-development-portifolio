/* ==========================================================================
   TESTIMONIAL CAROUSEL FIX - PRESERVE 3D CAROUSEL FUNCTIONALITY
   Ensures the testimonial carousel works properly after section spacing fixes
   ========================================================================== */

/* Client Impact Section - Proper spacing without breaking carousel */
.client-impact {
  position: relative !important;
  z-index: auto !important;
  padding-top: 6rem !important;
  padding-bottom: 8rem !important;
  margin: 0 !important;
  clear: both !important;
  overflow: visible !important;
}

/* Testimonial Carousel Container - Preserve 3D perspective */
.testimonial-carousel {
  position: relative !important;
  width: 100% !important;
  height: 500px !important;
  margin-bottom: 6rem !important;
  overflow: visible !important;
  z-index: auto !important;
}

.testimonial-carousel__container {
  position: relative !important;
  width: 100% !important;
  height: 100% !important;
  perspective: 1000px !important;
  perspective-origin: center center !important;
  transform-style: preserve-3d !important;
}

/* Testimonial Cards - Preserve absolute positioning for 3D effect */
.testimonial-card {
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  width: 400px !important;
  height: 450px !important;
  transform-style: preserve-3d !important;
  backface-visibility: hidden !important;
  /* Don't override the carousel's transform and z-index system */
}

/* Navigation - Preserve absolute positioning */
.testimonial-carousel__navigation {
  position: absolute !important;
  bottom: -4rem !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  z-index: 10 !important;
}

/* Success Metrics - Ensure proper spacing */
.client-impact__metrics {
  position: relative !important;
  z-index: auto !important;
  margin-top: 4rem !important;
  clear: both !important;
}

.success-metrics {
  position: relative !important;
  z-index: auto !important;
}

.success-metric {
  position: relative !important;
  z-index: auto !important;
}

/* Client Logos - Proper positioning */
.client-logos {
  position: relative !important;
  z-index: auto !important;
  margin-top: 3rem !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .client-impact {
    padding-top: 4rem !important;
    padding-bottom: 6rem !important;
  }

  .testimonial-carousel {
    height: 400px !important;
    margin-bottom: 4rem !important;
  }

  .testimonial-card {
    width: 320px !important;
    height: 380px !important;
  }

  .testimonial-carousel__navigation {
    bottom: -3rem !important;
  }
}

@media (max-width: 480px) {
  .testimonial-carousel {
    height: 350px !important;
  }

  .testimonial-card {
    width: 280px !important;
    height: 320px !important;
  }
}

/* Ensure proper stacking context without breaking carousel */
.client-impact {
  isolation: isolate;
}

.testimonial-carousel__container {
  isolation: auto; /* Don't isolate the carousel container */
}

/* Force visibility without breaking positioning */
.testimonial-card {
  visibility: visible !important;
  display: block !important;
  opacity: 1 !important;
}

/* Ensure carousel animations work */
.testimonial-card--active {
  opacity: 1 !important;
  z-index: 5 !important;
}

.testimonial-card--next,
.testimonial-card--prev {
  opacity: 0.7 !important;
  z-index: 3 !important;
}

.testimonial-card:not(.testimonial-card--active):not(
    .testimonial-card--next
  ):not(.testimonial-card--prev) {
  opacity: 0 !important;
  z-index: 1 !important;
}
