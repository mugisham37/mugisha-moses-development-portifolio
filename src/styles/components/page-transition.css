/* Page Transition Styles */

.page-transition {
  opacity: 0;
  transform: translateY(30px);
  transition: all var(--transition-duration, 600ms) cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity, transform;
}

.page-transition--visible {
  opacity: 1;
  transform: translateY(0);
}

/* Theme-specific transitions */
.page-transition--extreme-brutalist {
  transform: translateY(50px) skewY(-2deg);
  filter: contrast(1.2);
}

.page-transition--extreme-brutalist.page-transition--visible {
  transform: translateY(0) skewY(0deg);
  filter: contrast(1);
}

.page-transition--refined-brutalist {
  transform: translateY(20px) scale(0.98);
  filter: blur(1px);
}

.page-transition--refined-brutalist.page-transition--visible {
  transform: translateY(0) scale(1);
  filter: blur(0);
}

/* Section Transition Styles */
.section-transition {
  position: relative;
  overflow: hidden;
  opacity: 0;
  transform: translateY(60px);
  transition: all 600ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.section-transition--visible {
  opacity: 1;
  transform: translateY(0);
}

.section-transition__content {
  position: relative;
  z-index: 2;
}

.section-transition__effects {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
}

/* Brutal transition effects */
.section-transition--brutal .section-transition__border-top,
.section-transition--brutal .section-transition__border-bottom {
  position: absolute;
  left: 0;
  right: 0;
  height: 8px;
  background: var(--color-accent, #ffff00);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 400ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.section-transition--brutal .section-transition__border-top {
  top: 0;
}

.section-transition--brutal .section-transition__border-bottom {
  bottom: 0;
}

.section-transition--visible .section-transition__border-top,
.section-transition--visible .section-transition__border-bottom {
  transform: scaleX(1);
}

.section-transition__scan-line {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent,
    var(--color-accent, #ffff00),
    transparent
  );
  transform: translateY(-100%);
  opacity: 0;
  transition: all 800ms ease-out;
}

.section-transition--visible .section-transition__scan-line {
  transform: translateY(100vh);
  opacity: 1;
}

.section-transition__glitch-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    90deg,
    transparent,
    transparent 2px,
    rgba(255, 255, 0, 0.03) 2px,
    rgba(255, 255, 0, 0.03) 4px
  );
  opacity: 0;
  transition: opacity 300ms ease;
}

.section-transition--visible .section-transition__glitch-overlay {
  opacity: 1;
}

/* Animation phases */
.section-transition--enter {
  transform: translateY(60px) rotateX(15deg);
  opacity: 0;
}

.section-transition--visible {
  transform: translateY(0) rotateX(0deg);
  opacity: 1;
}

.section-transition--exit {
  transform: translateY(-30px) rotateX(-5deg);
  opacity: 0.7;
}

/* Staggered Children Styles */
.staggered-children {
  position: relative;
}

.staggered-child {
  opacity: 0;
  transform: translateY(40px) rotateX(10deg);
  transition: all 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
  transition-delay: var(--stagger-delay, 0ms);
}

.staggered-child--visible {
  opacity: 1;
  transform: translateY(0) rotateX(0deg);
}

/* Extreme brutalist staggered effects */
.staggered-children--extreme-brutalist .staggered-child {
  transform: translateY(60px) skewX(-5deg);
  filter: contrast(1.3) saturate(1.2);
}

.staggered-children--extreme-brutalist .staggered-child--visible {
  transform: translateY(0) skewX(0deg);
  filter: contrast(1) saturate(1);
}

/* Refined brutalist staggered effects */
.staggered-children--refined-brutalist .staggered-child {
  transform: translateY(30px) scale(0.95);
  filter: blur(2px);
}

.staggered-children--refined-brutalist .staggered-child--visible {
  transform: translateY(0) scale(1);
  filter: blur(0);
}

/* Page Wrapper Styles */
.page-wrapper {
  position: relative;
  min-height: 100vh;
}

.page-wrapper__content {
  opacity: 0;
  transform: scale(0.98);
  transition: all 800ms cubic-bezier(0.4, 0, 0.2, 1);
}

.page-wrapper--loaded .page-wrapper__content {
  opacity: 1;
  transform: scale(1);
}

.page-wrapper__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--color-bg, #000000);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  visibility: visible;
  transition: all 600ms ease-out;
}

.page-wrapper--loaded .page-wrapper__overlay {
  opacity: 0;
  visibility: hidden;
}

/* Loading terminal */
.loading-terminal {
  font-family: var(--font-mono, "JetBrains Mono", monospace);
  color: var(--color-accent, #ffff00);
  text-align: center;
}

.loading-text {
  font-size: 1.2rem;
  font-weight: 600;
  letter-spacing: 0.1em;
  margin-bottom: 1rem;
  animation: loadingPulse 2s ease-in-out infinite;
}

.loading-cursor {
  display: inline-block;
  width: 12px;
  height: 20px;
  background: var(--color-accent, #ffff00);
  animation: cursorBlink 1s step-end infinite;
  margin-left: 4px;
}

/* Animations */
@keyframes loadingPulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.05);
  }
}

@keyframes cursorBlink {
  0%,
  50% {
    opacity: 1;
  }
  51%,
  100% {
    opacity: 0;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .page-transition,
  .section-transition,
  .staggered-child,
  .page-wrapper__content {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }

  .section-transition__scan-line,
  .section-transition__glitch-overlay {
    display: none;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .section-transition__border-top,
  .section-transition__border-bottom {
    background: currentColor;
  }

  .section-transition__scan-line {
    background: linear-gradient(90deg, transparent, currentColor, transparent);
  }
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .page-transition {
    transform: translateY(20px);
  }

  .section-transition {
    transform: translateY(30px);
  }

  .staggered-child {
    transform: translateY(20px);
  }

  .loading-text {
    font-size: 1rem;
  }
}
